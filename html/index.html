<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.7.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>


    <style>
        [class*=col-] {
            padding-left: 0px;
            padding-right: 0px;

            /* border: 1px solid black; */
            .row {
                margin: 0;
            }
        }

        img {
            width: 100%;
            height: 100%;
        }

        .color-red {
            color: red;
        }
    </style>
    <script>
        $(document).ready(function name(params) {

            var i = 2;
            $("#modal-show").click(function () {
                $("#my-modal").modal("show");
            });

            function ktMA() {
                var mauKT = /^[0-9]{9}$/;
                if (mauKT.test($("#maHV").val()) == true) {
                    $("#txtMa").html("*");
                    return true;
                }
                else {
                    $("#txtMa").html("ma phai la ki tu 0-9");
                    $("#txtMa").addClass("color-red");
                    return false;
                }
            }

            $("#maHV").blur(ktMA);

            function ktHo(params) {
                var kt = /^([A-Z]{1}([a-z]*))(\s[A-Z]{1}([a-z]*))*$/;
                if ($("#hoTen").val() == "") {
                    $("#txtHo").html("Khong duoc rong");
                    $("#txtHo").addClass("color-red");
                    return false;
                }
                if (kt.test($("#hoTen").val()) == true) {
                    $("#txtHo").html("*");
                    return true;
                }
                else {
                    $("#txtHo").html("ho ten phai viet hoa chu cai dau tien");
                    $("#txtHo").addClass("color-red");
                    return false;

                }
            }
            $("#hoTen").blur(ktHo);

            function ktDC(params) {
                var kt = /^([A-Z]{1}([a-z]*))(\s[A-Z]{1}([a-z]*))*$/;
                if ($("#diaChi").val() == "") {
                    $("#txtDiaChi").html("Khong duoc rong");
                    $("#txtDiaChi").addClass("color-red");
                    return false;
                }
                if (kt.test($("#diaChi").val()) == true) {
                    $("#txtDiaChi").html("*");
                    return true;
                }
                else {
                    $("#txtDiaChi").html("Dia chi phai viet hoa chu cai dau tien");
                    $("#txtDiaChi").addClass("color-red");
                    return false;
                }
            }
            $("#diaChi").blur(ktDC);

            $("#dichVu").change(function (params) {
                $("#dichVu option:selected").each(function (params) {
                    var gia = $(this).val();
                    $("#gia").val(gia);
                })
            });

            $(".doDung").click(function (params) {
                var tong = 0;
                var n = $(".doDung:checked").length;
                if (n > 0) {
                    $(".doDung:checked").each(function name(params) {
                        tong += parseFloat($(this).val());
                        $("#thanhTien").val(tong);
                    });
                }
            });

            $("input[name='giam']").click(function name(params) {
                var tong = parseFloat($("#thanhTien").val()) + parseFloat($("#gia").val()) - parseFloat($("input[name= 'giam']:checked").val());
                $("#tongTien").val(tong);
            });

            $("#btn-save").click(function name(params) {
                if (ktHo() == true && ktDC() == true && ktMA() == true) {
                    var ma = $("#maHV").val();
                    var ho = $("#hoTen").val();
                    var dia = $("#diaChi").val();
                    var tienDV = $("#gia").val();
                    var tienDD = $("#thanhTien").val();
                    var tongTien = $("#tongTien").val();
                    var them = "<tr><td>" + ++i + "</td><td>" + ma + "</td><td>" + ho + "</td><td>" + dia + "</td><td>" + tienDV + "</td><td>" + tienDD + "</td><td>" + tongTien + "</td></tr>";
                    $("tbody").append(them);
                    $("#my-modal").modal("hide");
                }
                else {
                    alert("Nhap lai");
                }
            });

        });


    </script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-12">
                <img src="../img/banner-5.png" alt="" srcset="">
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-12">
                <nav class="navbar">
                    <ul class="navbar-nav navbar-expand nav-fill w-25 h-100">
                        <li class="nav-item"><a href="#" class="nav-link">Trang chủ</a></li>
                        <li class="nav-item" id="modal-show"><a href="#" class="nav-link">Đăng kí</a></li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <table class="table-bordered table table-hover table-striped">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Mã học viên</th>
                            <th>Họ tên</th>
                            <th>Địa chỉ</th>
                            <th>Tiền dịch vụ</th>
                            <th>Tiền đồ dùng</th>
                            <th>Tổng tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>123456789</td>
                            <td>Nguyễn Văn A</td>
                            <td>Quãng Ngãi</td>
                            <td>30000</td>
                            <td>10000</td>
                            <td>70000</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>223456789</td>
                            <td>Nguyễn Văn B</td>
                            <td>Bến Tre</td>
                            <td>40000</td>
                            <td>10000</td>
                            <td>100000</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="modal" id="my-modal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">THÔNG TIN THANH TOÁN</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="col-12">
                                    <form>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="maHV">Mã học viên</label>
                                                    <input class="col-8" type="text" name="maHV" id="maHV">
                                                </div>
                                                <small id="txtMa">*</small>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="hoTen">Họ tên</label>
                                                    <input class="col-8" type="text" name="hoTen" id="hoTen">
                                                </div>
                                                <small id="txtHo">*</small>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="diaChi">Địa chỉ</label>
                                                    <input class="col-8" type="text" name="diaChia" id="diaChi">
                                                </div>
                                                <small id="txtDiaChi">*</small>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="dichVu">Dịch vụ</label>
                                                    <div class="col-8">
                                                        <select name="dichVu" id="dichVu" class="form-control">
                                                            <option value="2000">Boi</option>
                                                            <option value="3000">Game</option>
                                                            <option value="5000">Nuoc</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="gia">Gia</label>
                                                    <div class="col-8">
                                                        <input disabled type="text" name="gia" id="gia"
                                                            class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="doDung">Đồ dùng</label>
                                                    <div class="col-8">
                                                        <input type="checkbox" name="doDung" class="doDung"
                                                            value="5000">
                                                        <label for="">Ao quan boi</label>
                                                        <br>
                                                        <input type="checkbox" name="doDung" class="doDung"
                                                            value="4000">
                                                        <label for="">Phao</label>
                                                        <br>
                                                        <input type="checkbox" name="doDung" class="doDung"
                                                            value="5000">
                                                        <label for="">Kính bơi</label>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="">Thanh tien</label>
                                                    <div class="col-8">
                                                        <input disabled type="text" name="thanhTien" id="thanhTien"
                                                            class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="giamTru">Giảm trừ</label>
                                                    <div class="col-8">
                                                        <input type="radio" name="giam" value="7000">
                                                        <label for="">Ngày thường (giảm 7000)</label>
                                                        <br>
                                                        <input type="radio" name="giam" value="1000">
                                                        <label for="">Cuối tuần(giảm 1000)</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group w-100">
                                                <div class="row">
                                                    <label class="col-4" for="tongTien">Tổng tiền</label>
                                                    <div class="col-8">
                                                        <input disabled type="text" name="tongTien" id="tongTien"
                                                            class="form-control">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary" id="btn-save">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>